(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function a(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=a(e);fetch(e.href,t)}})();class d{constructor(){this.pieChart=null}updatePieChart(r){this.updatePieChartWithValues(r.summary.connected,r.summary.disconnected)}updatePieChartWithValues(r,a){const s=document.getElementById("components-chart");if(!s){console.error("Canvas do gr치fico n칚o encontrado");return}if(typeof window.Chart>"u"){console.error("Chart.js n칚o est치 carregado");return}const e=r+a;if(this.pieChart){this.pieChart.data.datasets[0].data=[r,a],this.pieChart.options.plugins.tooltip.callbacks.label=o=>{const n=o.label||"",i=o.parsed,l=e>0?Math.round(i/e*100):0;return`${n}: ${i} (${l}%)`},this.pieChart.update("active"),console.log(`游늵 Gr치fico atualizado: ${r} conectados, ${a} desconectados`);return}const t={type:"pie",data:{labels:["Conectados ao DS","Fora do DS"],datasets:[{data:[r,a],backgroundColor:["#10B981","#EF4444"],borderColor:["#059669","#DC2626"],borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0,font:{size:12,family:"Inter"}}},tooltip:{callbacks:{label:o=>{const n=o.label||"",i=o.parsed,l=e>0?Math.round(i/e*100):0;return`${n}: ${i} (${l}%)`}}}}}};this.pieChart=new window.Chart(s,t),console.log(`游늵 Gr치fico criado: ${r} conectados, ${a} desconectados`)}destroy(){this.pieChart&&(this.pieChart.destroy(),this.pieChart=null)}}export{d as C};
